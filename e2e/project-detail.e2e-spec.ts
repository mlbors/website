/**
 * Website - Project Detail e2e - Specs
 *
 * @since       2018.04.22
 * @version     1.0.0.0
 * @author		  mlbors
 * @copyright	  -
 */

/*****************************/
/********** IMPORTS **********/
/*****************************/

import { AppPage } from './project-detail.po';
import { browser, by, element } from 'protractor';

/********************************************************************************/
/********************************************************************************/

/****************************/
/********** SET UP **********/
/****************************/

describe('project detail page', () => {
  let page: AppPage;

  /********************************************************************************/
  /********************************************************************************/

  /*********************************/
  /********** BEFORE EACH **********/
  /*********************************/

  beforeEach(() => {
    page = new AppPage();
  });

  /********************************************************************************/
  /********************************************************************************/

  /********************************************/
  /********** SHOULD HAVE NAVIGATION **********/
  /********************************************/

  it('should have navigation', () => {
    page.navigateTo();
    expect(page.getNavigation()).toBeTruthy();
  });

  /********************************************************************************/
  /********************************************************************************/

  /***************************************/
  /********** SHOULD HAVE BRAND **********/
  /***************************************/

  it('should have brand', () => {
    page.navigateTo();
    expect(page.getBrand()).toBeTruthy();
  });

  /********************************************************************************/
  /********************************************************************************/

  /*************************************************/
  /********** SHOULD HAVE COLOR FOR BRAND **********/
  /*************************************************/

  it('should have color for brand', () => {
    page.navigateTo();
    const brand = page.getBrand();
    setTimeout(() => {
      brand.getCssValue('color').then(result => {
        const color = page.convertRgbToHex(result);
        expect(color).toEqual('#00c3b6');
      });
    }, 5000);
  });

  /********************************************************************************/
  /********************************************************************************/

  /*************************************************/
  /********** SHOULD HAVE NAVIGATION LIST **********/
  /*************************************************/

  it('should have navigation list', () => {
    page.navigateTo();
    expect(page.getNavigationList()).toBeTruthy();
  });

  /********************************************************************************/
  /********************************************************************************/

  /**************************************************/
  /********** SHOULD HAVE NAVIGATION ITEMS **********/
  /**************************************************/

  it('should have navigation items', () => {
    page.navigateTo();
    expect(page.getNavigationItems()).toBeTruthy();
  });

  /********************************************************************************/
  /********************************************************************************/

  /********************************************************/
  /********** SHOULD HAVE THREE NAVIGATION ITEMS **********/
  /********************************************************/

  it('should have three navigation items', () => {
    page.navigateTo();
    page.getNavigationItems().count().then(result => {
      expect(result).toEqual(3);
    });
  });

  /********************************************************************************/
  /********************************************************************************/

  /************************************************************/
  /********** SHOULD HAVE COLOR FOR NAVIGATION ITEMS **********/
  /************************************************************/

  it('should have color for navigation items', () => {
    page.navigateTo();
    const navigationLinks = page.getNavigationLinks();
    setTimeout(() => {
      navigationLinks.each(item => {
        item.getCssValue('color').then(result => {
          const color = page.convertRgbToHex(result);
          expect(color).toEqual('#00c3b6');
        });
      });
    }, 5000);
  });

  /********************************************************************************/
  /********************************************************************************/

  /*****************************************/
  /********** SHOULD HAVE CONTENT **********/
  /*****************************************/

  it('should have content', () => {
    page.navigateTo();
    expect(page.getContent()).toBeTruthy();
  });

  /********************************************************************************/
  /********************************************************************************/

  /************************************/
  /********** SHOULD HAVE H1 **********/
  /************************************/

  it('should have H1', () => {
    page.navigateTo();
    expect(page.getH1()).toBeTruthy();
  });

  /********************************************************************************/
  /********************************************************************************/

  /**********************************************/
  /********** SHOULD HAVE COLOR FOR H1 **********/
  /**********************************************/

  it('should have color for h1', () => {
    page.navigateTo();
    const h1 = page.getH1();
    setTimeout(() => {
      h1.getCssValue('color').then(result => {
        const color = page.convertRgbToHex(result);
        expect(color).toEqual('#00c3b6');
      });
    }, 5000);
  });

  /********************************************************************************/
  /********************************************************************************/

  /*****************************************************/
  /********** SHOULD HAVE PROJECT COVER IMAGE **********/
  /*****************************************************/

  it('should have project cover image', () => {
    page.navigateTo();
    expect(page.getProjectCoverImage()).toBeTruthy();
  });

  /********************************************************************************/
  /********************************************************************************/

  /*************************************************/
  /********** SHOULD HAVE CONTENT SECTION **********/
  /*************************************************/

  it('should have content section', () => {
    page.navigateTo();
    expect(page.getContentSection()).toBeTruthy();
  });

  /********************************************************************************/
  /********************************************************************************/

  /***********************************************************/
  /********** SHOULD HAVE COLOR FOR CONTENT SECTION **********/
  /***********************************************************/

  it('should have color for content section', () => {
    page.navigateTo();
    const contentSection = page.getContentSection();
    setTimeout(() => {
      contentSection.getCssValue('color').then(result => {
        const color = page.convertRgbToHex(result);
        expect(color).toEqual('#b4b0b0');
      });
    }, 5000);
  });

  /********************************************************************************/
  /********************************************************************************/

  /************************************************/
  /********** SHOULD HAVE IMAGES SECTION **********/
  /************************************************/

  it('should have images section', () => {
    page.navigateTo();
    expect(page.getImagesSection()).toBeTruthy();
  });

  /********************************************************************************/
  /********************************************************************************/

  /**********************************************/
  /********** SHOULD HAVE META SECTION **********/
  /**********************************************/

  it('should have meta section', () => {
    page.navigateTo();
    expect(page.getMetaSection()).toBeTruthy();
  });

  /********************************************************************************/
  /********************************************************************************/

  /********************************************************/
  /********** SHOULD HAVE COLOR FOR META SECTION **********/
  /********************************************************/

  it('should have color for meta section', () => {
    page.navigateTo();
    const metaSection = page.getMetaSection();
    setTimeout(() => {
      metaSection.getCssValue('color').then(result => {
        const color = page.convertRgbToHex(result);
        expect(color).toEqual('#b4b0b0');
      });
    }, 5000);
  });

  /********************************************************************************/
  /********************************************************************************/

  /*****************************************************/
  /********** SHOULD NAVIGATE TO LARGER IMAGE **********/
  /*****************************************************/

  it('should navigate to larger image', () => {
    page.navigateTo();
    page.getFirstImage().click().then(result => {
      setTimeout(() => {
        const imageViewer = element(by.css('.image-viewer'));
        const backButton = element(by.css('.btn-outline-primary'));
        expect(imageViewer).toBeTruthy();
        expect(backButton).toBeTruthy();
      }, 5000);
    });
  });
});
